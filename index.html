<div id="business-module">
    <div class="module-title">>> ACCÈS AU PROTOCOLE</div>
    <p>Entrez votre email pour recevoir votre certificat d'authenticité.</p>
    
    <input type="email" id="user-email" placeholder="VOTRE@EMAIL.COM" 
           style="background:#000; border:1px solid #00FF41; color:#00FF41; padding:15px; width:80%; margin:20px 0; text-align:center;">
    
    <br>
    <button class="buy-btn" onclick="document.getElementById('art-upload').click()">
        [ SÉLECTIONNER VOTRE ŒUVRE ]
    </button>
    <input type="file" id="art-upload" style="display:none" onchange="envoyerProtocol()">

    <div id="terminal-logs" style="margin-top:20px; display:none; border:1px solid #333; padding:15px; text-align:left; color:#00FF41;"></div>
</div>

<script>
async function envoyerProtocol() {
    const email = document.getElementById('user-email').value;
    const file = document.getElementById('art-upload').files[0];
    const logs = document.getElementById('terminal-logs');

    if(!email.includes('@')) { alert("EMAIL REQUIS"); return; }
    
    logs.style.display = 'block';
    logs.innerHTML = "> VALIDATION DU CANAL...<br>> UPLOAD EN COURS...";

    const fd = new FormData();
    fd.append('image', file);
    fd.append('email', email);

    try {
        const res = await fetch("TON_URL_CODESPACE/process_art", { method: 'POST', body: fd });
        const data = await res.json();
        if(data.status === "success") {
            logs.innerHTML += "<br>> ANALYSE RÉUSSIE.<br>> CERTIFICAT ENVOYÉ À : " + email;
        } else {
            logs.innerHTML += "<br>> ERREUR : " + data.message;
        }
    } catch(e) { logs.innerHTML += "<br>> ÉCHEC DE CONNEXION AU SERVEUR."; }
}
</script>
